(function(e){angular.module("Postman",[]).run(["$compile","$rootScope","$rootElement",function(e,t,n){var r=angular.element('<postman-parcels parcels="postmanParcels"></postman-parcels>'),i=e(r)(t);n[0].tagName!=="HTML"?n.append(i):angular.element(document.body).append(i)}]).directive("postmanParcels",["$timeout",function(e){return{restrict:"EA",template:'<div class="postman-parcels"><div class="postman-parcel" ng-class="parcel.type" ng-repeat="parcel in parcels | orderBy:\'-id\' track by parcel.id" ng-click="dismiss(parcel)" ng-mouseenter="stopTimer(parcel)" ng-mouseleave="startTimer(parcel)"><div class="postman-title">{{parcel.title}}</div><div class="postman-body">{{parcel.body}}</div></div></div>',replace:!0,scope:{parcels:"="},link:function(t,n,r){var i=function(e){var n=-1;angular.forEach(t.parcels,function(t,r){if(t.id==e){n=r;return!1}});return n};t.dismiss=function(n,r){var s=i(n.id);r!==!1&&n.deferred.resolve();e.cancel(n.timeout);s>=0&&t.parcels.splice(s,1)};t.stopTimer=function(t){e.cancel(t.timeout)};t.startTimer=function(n){n.timeout=e(function(){t.dismiss(n,!1)},6e3)};t.$watch("parcels",function(e){if(!e||e.length<1)return;var n=t.parcels[e.length-1];n.timeout||t.startTimer(n)},!0)}}}]).factory("postman",["$timeout","$rootScope","$q",function(e,t,n){var r=0;t.postmanParcels=[];var i=function(e,i,s){var o=n.defer(),u=++r;t.postmanParcels.push({type:s,body:i,title:e,deferred:o,id:u});return o.promise};return{error:function(e,t){return i(e,t,"error")},success:function(e,t){return i(e,t,"success")},info:function(e,t){return i(e,t,"info")},warn:function(e,t){return i(e,t,"warn")}}}])})();